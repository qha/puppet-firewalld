# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`firewalld`](#firewalld): Manage the firewalld service
* [`firewalld::reload`](#firewalldreload): A common point for triggering an intermediary firewalld reload using firewall-cmd
* [`firewalld::reload::complete`](#firewalldreloadcomplete): A common point for triggering an intermediary firewalld full reload using firewall-cmd

### Defined types

* [`firewalld::custom_service`](#firewalldcustom_service): Creates a new service definition for use in firewalld

### Resource types

* [`firewalld_custom_service`](#firewalld_custom_service): Creates a custom firewalld service.
* [`firewalld_direct_chain`](#firewalld_direct_chain): Allow to create a custom chain in iptables/ip6tables/ebtables using firewalld direct interface.  Example:      firewalld_direct_chain {'Add c
* [`firewalld_direct_passthrough`](#firewalld_direct_passthrough): Allow to create a custom passthroughhrough traffic in iptables/ip6tables/ebtables using firewalld direct interface.  Example:      firewalld_
* [`firewalld_direct_purge`](#firewalld_direct_purge): Allow to purge direct rules in iptables/ip6tables/ebtables using firewalld direct interface.  Example:      firewalld_direct_purge {'chain': 
* [`firewalld_direct_rule`](#firewalld_direct_rule): Allow to pass rules directly to iptables/ip6tables/ebtables using firewalld direct interface.  Example:      firewalld_direct_rule {'Allow ou
* [`firewalld_ipset`](#firewalld_ipset): Configure IPsets in Firewalld  Example:     firewalld_ipset {'internal net':         ensure   => 'present',         type     => 'hash:net',  
* [`firewalld_policy`](#firewalld_policy): Creates and manages firewalld policies.
* [`firewalld_port`](#firewalld_port): Assigns a port to a specific firewalld zone.  firewalld_port will autorequire the firewalld_zone specified in the zone parameter or the firew
* [`firewalld_rich_rule`](#firewalld_rich_rule): Manages firewalld rich rules.  firewalld_rich_rules will autorequire the firewalld_zone specified in the zone parameter or the firewalld_poli
* [`firewalld_service`](#firewalld_service): Assigns a service to a specific firewalld zone.
* [`firewalld_zone`](#firewalld_zone): Creates and manages firewalld zones.

### Functions

* [`firewalld::safe_filename`](#firewalldsafe_filename): Returns a string that is safe for firewalld filenames

## Classes

### <a name="firewalld"></a>`firewalld`

See the README.md for usage instructions for the firewalld_zone and
firewalld_rich_rule types

=== Examples

 Standard:
   include firewalld

 Command line only, no GUI components:
   class{'firewalld':
   }

 With GUI components
   class{'firewalld':
     install_gui => true,
   }

=== Authors

Craig Dunn <craig@craigdunn.org>

=== Copyright

Copyright 2015 Craig Dunn

#### Parameters

The following parameters are available in the `firewalld` class:

* [`package_ensure`](#package_ensure)
* [`package`](#package)
* [`service_ensure`](#service_ensure)
* [`config_package`](#config_package)
* [`install_gui`](#install_gui)
* [`service_enable`](#service_enable)
* [`zones`](#zones)
* [`policies`](#policies)
* [`ports`](#ports)
* [`services`](#services)
* [`rich_rules`](#rich_rules)
* [`custom_services`](#custom_services)
* [`ipsets`](#ipsets)
* [`direct_rules`](#direct_rules)
* [`direct_chains`](#direct_chains)
* [`direct_passthroughs`](#direct_passthroughs)
* [`purge_direct_rules`](#purge_direct_rules)
* [`purge_direct_chains`](#purge_direct_chains)
* [`purge_direct_passthroughs`](#purge_direct_passthroughs)
* [`purge_unknown_ipsets`](#purge_unknown_ipsets)
* [`default_zone`](#default_zone)
* [`log_denied`](#log_denied)
* [`cleanup_on_exit`](#cleanup_on_exit)
* [`zone_drifting`](#zone_drifting)
* [`minimal_mark`](#minimal_mark)
* [`lockdown`](#lockdown)
* [`ipv6_rpfilter`](#ipv6_rpfilter)
* [`firewall_backend`](#firewall_backend)
* [`default_service_zone`](#default_service_zone)
* [`default_port_zone`](#default_port_zone)
* [`default_port_protocol`](#default_port_protocol)

##### <a name="package_ensure"></a>`package_ensure`

Data type: `Enum['present','absent','latest','installed']`



Default value: `'installed'`

##### <a name="package"></a>`package`

Data type: `String`



Default value: `'firewalld'`

##### <a name="service_ensure"></a>`service_ensure`

Data type: `Stdlib::Ensure::Service`



Default value: `'running'`

##### <a name="config_package"></a>`config_package`

Data type: `String`



Default value: `'firewall-config'`

##### <a name="install_gui"></a>`install_gui`

Data type: `Boolean`



Default value: ``false``

##### <a name="service_enable"></a>`service_enable`

Data type: `Boolean`



Default value: ``true``

##### <a name="zones"></a>`zones`

Data type: `Hash`



Default value: `{}`

##### <a name="policies"></a>`policies`

Data type: `Hash`



Default value: `{}`

##### <a name="ports"></a>`ports`

Data type: `Hash`



Default value: `{}`

##### <a name="services"></a>`services`

Data type: `Hash`



Default value: `{}`

##### <a name="rich_rules"></a>`rich_rules`

Data type: `Hash`



Default value: `{}`

##### <a name="custom_services"></a>`custom_services`

Data type: `Hash`



Default value: `{}`

##### <a name="ipsets"></a>`ipsets`

Data type: `Hash`



Default value: `{}`

##### <a name="direct_rules"></a>`direct_rules`

Data type: `Hash`



Default value: `{}`

##### <a name="direct_chains"></a>`direct_chains`

Data type: `Hash`



Default value: `{}`

##### <a name="direct_passthroughs"></a>`direct_passthroughs`

Data type: `Hash`



Default value: `{}`

##### <a name="purge_direct_rules"></a>`purge_direct_rules`

Data type: `Boolean`



Default value: ``false``

##### <a name="purge_direct_chains"></a>`purge_direct_chains`

Data type: `Boolean`



Default value: ``false``

##### <a name="purge_direct_passthroughs"></a>`purge_direct_passthroughs`

Data type: `Boolean`



Default value: ``false``

##### <a name="purge_unknown_ipsets"></a>`purge_unknown_ipsets`

Data type: `Boolean`



Default value: ``false``

##### <a name="default_zone"></a>`default_zone`

Data type: `Optional[String]`



Default value: ``undef``

##### <a name="log_denied"></a>`log_denied`

Data type: `Optional[Enum['off','all','unicast','broadcast','multicast']]`



Default value: ``undef``

##### <a name="cleanup_on_exit"></a>`cleanup_on_exit`

Data type: `Optional[Enum['yes', 'no']]`



Default value: ``undef``

##### <a name="zone_drifting"></a>`zone_drifting`

Data type: `Optional[Enum['yes', 'no']]`



Default value: ``undef``

##### <a name="minimal_mark"></a>`minimal_mark`

Data type: `Optional[Integer]`



Default value: ``undef``

##### <a name="lockdown"></a>`lockdown`

Data type: `Optional[Enum['yes', 'no']]`



Default value: ``undef``

##### <a name="ipv6_rpfilter"></a>`ipv6_rpfilter`

Data type: `Optional[Enum['yes', 'no']]`



Default value: ``undef``

##### <a name="firewall_backend"></a>`firewall_backend`

Data type: `Optional[Enum['iptables', 'nftables']]`



Default value: ``undef``

##### <a name="default_service_zone"></a>`default_service_zone`

Data type: `Optional[String]`



Default value: ``undef``

##### <a name="default_port_zone"></a>`default_port_zone`

Data type: `Optional[String]`



Default value: ``undef``

##### <a name="default_port_protocol"></a>`default_port_protocol`

Data type: `Optional[String]`



Default value: ``undef``

### <a name="firewalldreload"></a>`firewalld::reload`

A common point for triggering an intermediary firewalld reload using firewall-cmd

### <a name="firewalldreloadcomplete"></a>`firewalld::reload::complete`

A common point for triggering an intermediary firewalld full reload using firewall-cmd

## Defined types

### <a name="firewalldcustom_service"></a>`firewalld::custom_service`

**DEPRECATED**: Please use the `firewalld_custom_service` native type moving forward

This defined type will be removed in a future release

Andrew Patik <andrewpatik@gmail.com>
Trevor Vaughan <tvaughan@onyxpoint.com>

#### Examples

##### 

```puppet

firewalld::custom_service{'My Custom Service':
  short       => 'MyService',
  description => 'My Custom Service is a daemon that does whatever',
  port        => [
    {
        'port'     => '1234'
        'protocol' => 'tcp'
    },
    {
        'port'     => '1234'
        'protocol' => 'udp'
    },
  ],
  module      => ['nf_conntrack_netbios_ns'],
  destination => {
    'ipv4' => '127.0.0.1',
    'ipv6' => '::1'
  }
}
```

#### Parameters

The following parameters are available in the `firewalld::custom_service` defined type:

* [`short`](#short)
* [`description`](#description)
* [`port`](#port)
* [`module`](#module)
* [`destination`](#destination)
* [`filename`](#filename)
* [`config_dir`](#config_dir)
* [`ensure`](#ensure)

##### <a name="short"></a>`short`

Data type: `String`



Default value: `$name`

##### <a name="description"></a>`description`

Data type: `Optional[String]`



Default value: ``undef``

##### <a name="port"></a>`port`

Data type: `Optional[Array[Hash]]`



Default value: ``undef``

##### <a name="module"></a>`module`

Data type: `Optional[Array[String]]`



Default value: ``undef``

##### <a name="destination"></a>`destination`

Data type: `Optional[Hash[
      Enum['ipv4', 'ipv6'],
      String
  ]]`



Default value: ``undef``

##### <a name="filename"></a>`filename`

Data type: `String`



Default value: `$short`

##### <a name="config_dir"></a>`config_dir`

Data type: `Stdlib::Unixpath`



Default value: `'/etc/firewalld/services'`

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present','absent']`



Default value: `'present'`

## Resource types

### <a name="firewalld_custom_service"></a>`firewalld_custom_service`

You will still need to create a `firewalld_service` resource to bind your new
service to a zone.

#### Examples

##### Creating a custom 'test' service

```puppet
firewalld_custom_service {'test':
    ensure  => present,
    ports   => [{'port' => '1234', 'protocol' => 'tcp'}]
}
```

#### Properties

The following properties are available in the `firewalld_custom_service` type.

##### `description`

Valid values: `%r{.+}`

The long description of the service

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

##### `ipv4_destination`

The IPv4 destination network of the service

Default value: `unset`

##### `ipv6_destination`

The IPv6 destination network of the service

Default value: `unset`

##### `modules`

Valid values: `%r{^[\w-]+$}`

The list of netfilter modules to add to the service

Default value: `unset`

##### `ports`

An Array of allowed port/protocol Hashes or Strings of the form `port/protocol`

Default value: `unset`

##### `protocols`

Valid values: `%r{^[^\s#]+$}`

Protocols allowed by the service as defined in /etc/protocols

Default value: `unset`

##### `short`

Valid values: `%r{.+}`

The short description of the service

#### Parameters

The following parameters are available in the `firewalld_custom_service` type.

* [`name`](#name)
* [`provider`](#provider)

##### <a name="name"></a>`name`

Valid values: `%r{.+}`

namevar

The target filename of the resource (without the .xml suffix)

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_custom_service` resource. You will seldom need to specify this ---
Puppet will usually discover the appropriate provider for your platform.

### <a name="firewalld_direct_chain"></a>`firewalld_direct_chain`

Allow to create a custom chain in iptables/ip6tables/ebtables using firewalld direct interface.

Example:

    firewalld_direct_chain {'Add custom chain LOG_DROPS':
        name           => 'LOG_DROPS',
        ensure         => 'present',
        inet_protocol  => 'ipv4',
        table          => 'filter'
    }

#### Properties

The following properties are available in the `firewalld_direct_chain` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `firewalld_direct_chain` type.

* [`inet_protocol`](#inet_protocol)
* [`name`](#name)
* [`provider`](#provider)
* [`table`](#table)

##### <a name="inet_protocol"></a>`inet_protocol`

Valid values: `ipv4`, `ipv6`

namevar

Name of the TCP/IP protocol to use (e.g: ipv4, ipv6)

Default value: `ipv4`

##### <a name="name"></a>`name`

Name of the chain eg: LOG_DROPS

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_direct_chain` resource. You will seldom need to specify this --- Puppet
will usually discover the appropriate provider for your platform.

##### <a name="table"></a>`table`

namevar

Name of the table type to add (e.g: filter, nat, mangle, raw)

### <a name="firewalld_direct_passthrough"></a>`firewalld_direct_passthrough`

Allow to create a custom passthroughhrough traffic in iptables/ip6tables/ebtables using firewalld direct interface.

Example:

    firewalld_direct_passthrough {'Forward traffic from OUTPUT to OUTPUT_filter':
        ensure        => 'present',
        inet_protocol => 'ipv4',
        args          => '-A OUTPUT -j OUTPUT_filter',
    }

Or using namevar

    firewalld_direct_passthrough {'-A OUTPUT -j OUTPUT_filter':
        ensure        => 'present',
    }

#### Properties

The following properties are available in the `firewalld_direct_passthrough` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `firewalld_direct_passthrough` type.

* [`args`](#args)
* [`inet_protocol`](#inet_protocol)
* [`provider`](#provider)

##### <a name="args"></a>`args`

namevar

Name of the passthroughhrough to add (e.g: -A OUTPUT -j OUTPUT_filter)

##### <a name="inet_protocol"></a>`inet_protocol`

Valid values: `ipv4`, `ipv6`

Name of the TCP/IP protocol to use (e.g: ipv4, ipv6)

Default value: `ipv4`

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_direct_passthrough` resource. You will seldom need to specify this ---
Puppet will usually discover the appropriate provider for your platform.

### <a name="firewalld_direct_purge"></a>`firewalld_direct_purge`

Allow to purge direct rules in iptables/ip6tables/ebtables using firewalld direct interface.

Example:

    firewalld_direct_purge {'chain': }
    firewalld_direct_purge {'passthrough': }
    firewalld_direct_purge {'rule': }

#### Properties

The following properties are available in the `firewalld_direct_purge` type.

##### `ensure`

Valid values: `purgable`, `purged`

The basic property that the resource should be in.

Default value: `purged`

#### Parameters

The following parameters are available in the `firewalld_direct_purge` type.

* [`name`](#name)
* [`provider`](#provider)
* [`purge`](#purge)

##### <a name="name"></a>`name`

Valid values: `chain`, `passthrough`, `rule`

namevar

Type of resource to purge, valid values are 'chain', 'passthrough' and 'rule'

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_direct_purge` resource. You will seldom need to specify this --- Puppet
will usually discover the appropriate provider for your platform.

##### <a name="purge"></a>`purge`

Valid values: ``true``, ``false``


Default value: ``true``

### <a name="firewalld_direct_rule"></a>`firewalld_direct_rule`

Allow to pass rules directly to iptables/ip6tables/ebtables using firewalld direct interface.

Example:

    firewalld_direct_rule {'Allow outgoing SSH connection':
        ensure         => 'present',
        inet_protocol  => 'ipv4',
        table          => 'filter',
        chain          => 'OUTPUT',
        priority       => 1,
        args           => '-p tcp --dport=22 -j ACCEPT',
    }

#### Properties

The following properties are available in the `firewalld_direct_rule` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `firewalld_direct_rule` type.

* [`args`](#args)
* [`chain`](#chain)
* [`inet_protocol`](#inet_protocol)
* [`name`](#name)
* [`priority`](#priority)
* [`provider`](#provider)
* [`table`](#table)

##### <a name="args"></a>`args`

<args> can be all iptables, ip6tables and ebtables command line arguments

##### <a name="chain"></a>`chain`

Name of the chain type to add (e.g: INPUT, OUTPUT, FORWARD)

##### <a name="inet_protocol"></a>`inet_protocol`

Valid values: `ipv4`, `ipv6`

Name of the TCP/IP protocol to use (e.g: ipv4, ipv6)

Default value: `ipv4`

##### <a name="name"></a>`name`

namevar

Name of the rule resource in Puppet

##### <a name="priority"></a>`priority`

The priority number of the rule (e.g: 0, 1, 2, ... 99)

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_direct_rule` resource. You will seldom need to specify this --- Puppet
will usually discover the appropriate provider for your platform.

##### <a name="table"></a>`table`

Name of the table type to add (e.g: filter, nat, mangle, raw)

### <a name="firewalld_ipset"></a>`firewalld_ipset`

Configure IPsets in Firewalld

Example:
    firewalld_ipset {'internal net':
        ensure   => 'present',
        type     => 'hash:net',
        family   => 'inet',
        entries  => ['192.168.0.0/24']
    }

#### Properties

The following properties are available in the `firewalld_ipset` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

##### `entries`

Array of ipset entries

##### `family`

Valid values: `inet6`, `inet`

Protocol family of the IPSet

##### `hashsize`

Initial hash size of the IPSet

##### `maxelem`

Valid values: `%r{^[1-9]\d*$}`

Maximal number of elements that can be stored in the set

##### `timeout`

Valid values: `%r{^\d+$}`

Timeout in seconds before entries expiry. 0 means entry is permanent

#### Parameters

The following parameters are available in the `firewalld_ipset` type.

* [`manage_entries`](#manage_entries)
* [`name`](#name)
* [`options`](#options)
* [`provider`](#provider)
* [`type`](#type)

##### <a name="manage_entries"></a>`manage_entries`

Valid values: ``true``, ``false``, `yes`, `no`

Should we manage entries in this ipset or leave another process manage those entries

Default value: ``true``

##### <a name="name"></a>`name`

namevar

Name of the IPset

##### <a name="options"></a>`options`

Hash of options for the IPset, eg { 'family' => 'inet6' }

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_ipset` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="type"></a>`type`

Valid values: `bitmap:ip`, `bitmap:ip,mac`, `bitmap:port`, `hash:ip`, `hash:ip,mark`, `hash:ip,port`, `hash:ip,port,ip`, `hash:ip,port,net`, `hash:mac`, `hash:net`, `hash:net,iface`, `hash:net,net`, `hash:net,port`, `hash:net,port,net`, `list:set`

Type of the ipset (default: hash:ip)

Default value: `hash:ip`

### <a name="firewalld_policy"></a>`firewalld_policy`

Creates and manages firewalld policies.

Note that setting `ensure => 'absent'` to the built in firewalld
policies will not work, and will generate an error. This is a
limitation of firewalld itself, not the module.

#### Examples

##### Create a policy called `anytorestricted`

```puppet
firewalld_policy { 'anytorestricted':
  ensure           => present,
  target           => '%%REJECT%%',
  ingress_zones    => ['ANY'],
  egress_zones     => ['restricted'],
  purge_rich_rules => true,
  purge_services   => true,
  purge_ports      => true,
  icmp_blocks      => 'router-advertisement'
}
```

#### Properties

The following properties are available in the `firewalld_policy` type.

##### `egress_zones`

Specify the egress zones for the policy

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

##### `icmp_blocks`

Specify the icmp-blocks for the policy. Can be a single string specifying one icmp type,
or an array of strings specifying multiple icmp types. Any blocks not specified here will be removed

##### `ingress_zones`

Specify the ingress zones for the policy

##### `masquerade`

Valid values: ``true``, ``false``

Can be set to true or false, specifies whether to add or remove masquerading from the policy

##### `priority`

The priority of the policy as an integer (default -1)

Default value: `-1`

##### `purge_ports`

Valid values: ``false``, ``true``

When set to true any ports associated with this policy
that are not managed by Puppet will be removed.

##### `purge_rich_rules`

Valid values: ``false``, ``true``

When set to true any rich_rules associated with this policy
that are not managed by Puppet will be removed.

##### `purge_services`

Valid values: ``false``, ``true``

When set to true any services associated with this policy
that are not managed by Puppet will be removed.

##### `target`

Specify the target for the policy

#### Parameters

The following parameters are available in the `firewalld_policy` type.

* [`description`](#description)
* [`name`](#name)
* [`policy`](#policy)
* [`provider`](#provider)
* [`short`](#short)

##### <a name="description"></a>`description`

Description of the policy to add

##### <a name="name"></a>`name`

namevar

Name of the rule resource in Puppet

##### <a name="policy"></a>`policy`

Name of the policy

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_policy` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="short"></a>`short`

Short description of the policy to add

### <a name="firewalld_port"></a>`firewalld_port`

Assigns a port to a specific firewalld zone.

firewalld_port will autorequire the firewalld_zone specified in
the zone parameter or the firewalld_policy specified in the policy
parameter so there is no need to add dependencies for this

Example:

    firewalld_port {'Open port 8080 in the public Zone':
        ensure   => 'present',
        zone     => 'public',
        port     => 8080,
        protocol => 'tcp',
    }

#### Properties

The following properties are available in the `firewalld_port` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `firewalld_port` type.

* [`name`](#name)
* [`policy`](#policy)
* [`port`](#port)
* [`protocol`](#protocol)
* [`provider`](#provider)
* [`zone`](#zone)

##### <a name="name"></a>`name`

namevar

Name of the port resource in Puppet

##### <a name="policy"></a>`policy`

Name of the policy to which you want to add the port, exactly one of zone and policy must be supplied

Default value: `unset`

##### <a name="port"></a>`port`

Specify the element as a port

##### <a name="protocol"></a>`protocol`

Specify the element as a protocol

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_port` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="zone"></a>`zone`

Name of the zone to which you want to add the port, exactly one of zone and policy must be supplied

Default value: `unset`

### <a name="firewalld_rich_rule"></a>`firewalld_rich_rule`

Manages firewalld rich rules.

firewalld_rich_rules will autorequire the firewalld_zone specified
in the zone parameter or the firewalld_policy specified in the
policy parameter so there is no need to add dependencies for this

Example:

  firewalld_rich_rule { 'Accept SSH from barny':
    ensure => present,
    zone   => 'restricted',
    source => '192.168.1.2/32',
    service => 'ssh',
    action  => 'accept',
  }

#### Properties

The following properties are available in the `firewalld_rich_rule` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `firewalld_rich_rule` type.

* [`action`](#action)
* [`audit`](#audit)
* [`dest`](#dest)
* [`family`](#family)
* [`forward_port`](#forward_port)
* [`icmp_block`](#icmp_block)
* [`icmp_type`](#icmp_type)
* [`log`](#log)
* [`masquerade`](#masquerade)
* [`name`](#name)
* [`policy`](#policy)
* [`port`](#port)
* [`protocol`](#protocol)
* [`provider`](#provider)
* [`raw_rule`](#raw_rule)
* [`service`](#service)
* [`source`](#source)
* [`zone`](#zone)

##### <a name="action"></a>`action`


##### <a name="audit"></a>`audit`

doc

##### <a name="dest"></a>`dest`

Specify destination address, this can be a string of the IP address or a hash containing other options

##### <a name="family"></a>`family`

Valid values: `ipv4`, `ipv6`

IP family, one of ipv4 or ipv6, defauts to ipv4

Default value: `ipv4`

##### <a name="forward_port"></a>`forward_port`

Specify the element as forward-port

##### <a name="icmp_block"></a>`icmp_block`

Specify the element as an icmp-block

##### <a name="icmp_type"></a>`icmp_type`

Specify the element as an icmp-type

##### <a name="log"></a>`log`

doc

##### <a name="masquerade"></a>`masquerade`

Specify the element as masquerade

##### <a name="name"></a>`name`

namevar

Name of the rule resource in Puppet

##### <a name="policy"></a>`policy`

Name of the policy to attach the rich rule to, exactly one of zone and policy must be supplied

Default value: `unset`

##### <a name="port"></a>`port`

Specify the element as a port

##### <a name="protocol"></a>`protocol`

Specify the element as a protocol

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_rich_rule` resource. You will seldom need to specify this --- Puppet
will usually discover the appropriate provider for your platform.

##### <a name="raw_rule"></a>`raw_rule`

Manage the entire rule as one string - this is used
internally by firwalld_zone and firewalld_policy to handle
pruning of rules

##### <a name="service"></a>`service`

Specify the element as a service

##### <a name="source"></a>`source`

Specify source address, this can be a string of the IP address or a hash containing other options

##### <a name="zone"></a>`zone`

Name of the zone to attach the rich rule to, exactly one of zone and policy must be supplied

Default value: `unset`

### <a name="firewalld_service"></a>`firewalld_service`

Assigns a service to a specific firewalld zone.

`firewalld_service` will autorequire the `firewalld_zone` specified
in the `zone` parameter or the `firewalld_policy` specified in the
`policy` parameter and the `firewalld::custom_service` specified in
the `service` parameter. There is no need to manually add
dependencies for this.

#### Examples

##### Allowing SSH

```puppet
firewalld_service {'Allow SSH in the public Zone':
    ensure  => present,
    zone    => 'public',
    service => 'ssh',
}
```

#### Properties

The following properties are available in the `firewalld_service` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `firewalld_service` type.

* [`name`](#name)
* [`policy`](#policy)
* [`provider`](#provider)
* [`service`](#service)
* [`zone`](#zone)

##### <a name="name"></a>`name`

namevar

Name of the service resource in Puppet

##### <a name="policy"></a>`policy`

Name of the policy to which you want to add the service, exactly one of zone and policy must be supplied

Default value: `unset`

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_service` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="service"></a>`service`

Name of the service to add

##### <a name="zone"></a>`zone`

Name of the zone to which you want to add the service, exactly one of zone and policy must be supplied

Default value: `unset`

### <a name="firewalld_zone"></a>`firewalld_zone`

Creates and manages firewalld zones.

Note that setting `ensure => 'absent'` to the built in firewalld zones will
not work, and will generate an error. This is a limitation of firewalld itself, not the module.

#### Examples

##### Create a zone called `restricted`

```puppet
firewalld_zone { 'restricted':
  ensure           => present,
  target           => '%%REJECT%%',
  interfaces       => [],
  sources          => [],
  purge_rich_rules => true,
  purge_services   => true,
  purge_ports      => true,
  icmp_blocks      => 'router-advertisement'
}
```

#### Properties

The following properties are available in the `firewalld_zone` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

##### `icmp_blocks`

Specify the icmp-blocks for the zone. Can be a single string specifying one icmp type,
or an array of strings specifying multiple icmp types. Any blocks not specified here will be removed

##### `interfaces`

Specify the interfaces for the zone

##### `masquerade`

Valid values: ``true``, ``false``

Can be set to true or false, specifies whether to add or remove masquerading from the zone

##### `purge_ports`

Valid values: ``false``, ``true``

When set to true any ports associated with this zone
that are not managed by Puppet will be removed.

##### `purge_rich_rules`

Valid values: ``false``, ``true``

When set to true any rich_rules associated with this zone
that are not managed by Puppet will be removed.

##### `purge_services`

Valid values: ``false``, ``true``

When set to true any services associated with this zone
that are not managed by Puppet will be removed.

##### `sources`

Specify the sources for the zone

##### `target`

Specify the target for the zone

#### Parameters

The following parameters are available in the `firewalld_zone` type.

* [`description`](#description)
* [`name`](#name)
* [`provider`](#provider)
* [`short`](#short)
* [`zone`](#zone)

##### <a name="description"></a>`description`

Description of the zone to add

##### <a name="name"></a>`name`

namevar

Name of the rule resource in Puppet

##### <a name="provider"></a>`provider`

The specific backend to use for this `firewalld_zone` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="short"></a>`short`

Short description of the zone to add

##### <a name="zone"></a>`zone`

Name of the zone

## Functions

### <a name="firewalldsafe_filename"></a>`firewalld::safe_filename`

Type: Puppet Language

Returns a string that is safe for firewalld filenames

#### Examples

##### Regular Filename

```puppet
$filename = 'B@d Characters!'
firewalld::safe_filename($orig_string)

Result => 'B_d_Characters_'
```

##### Filename with Options

```puppet
$filename = 'B@d Characters!.txt'
firewalld::safe_filename(
  $filename,
  {
    'replacement_string' => '--',
    'file_extension'     => '.txt'
  }
)

Result => 'B--d--Characters--.txt'
```

#### `firewalld::safe_filename(String[1] $filename, Struct[
    {
      'replacement_string' => Pattern[/^[\w-]+$/],
      'file_extension'     => Optional[String[1]]
    }
  ] $options = { 'replacement_string' => '_' })`

The firewalld::safe_filename function.

Returns: `String` Processed string

##### Examples

###### Regular Filename

```puppet
$filename = 'B@d Characters!'
firewalld::safe_filename($orig_string)

Result => 'B_d_Characters_'
```

###### Filename with Options

```puppet
$filename = 'B@d Characters!.txt'
firewalld::safe_filename(
  $filename,
  {
    'replacement_string' => '--',
    'file_extension'     => '.txt'
  }
)

Result => 'B--d--Characters--.txt'
```

##### `filename`

Data type: `String[1]`

The String to process

##### `options`

Data type: `Struct[
    {
      'replacement_string' => Pattern[/^[\w-]+$/],
      'file_extension'     => Optional[String[1]]
    }
  ]`

Various processing options

Options:

* **file_extension** `String[1]`: This will be stripped from the end of the string prior to processing and
re-added afterwards

##### `options`

Data type: `String[1]`

replacement_string
The String to use when replacing invalid characters

Options:

* **file_extension** `String[1]`: This will be stripped from the end of the string prior to processing and
re-added afterwards

